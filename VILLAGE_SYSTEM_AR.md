# ğŸ˜ï¸ Ø´Ø±Ø­ Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø±ÙŠØ© (Village System) Ø¨Ø§Ù„Ø¹Ø§Ù…ÙŠØ© Ø§Ù„Ù…ØµØ±ÙŠØ©

## ğŸ“Š Ø§Ù„ÙÙƒØ±Ø© Ø§Ù„Ø¹Ø§Ù…Ø©

Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø±ÙŠØ© Ø¯Ù‡ Ø¨ÙŠØªÙƒÙˆÙ† Ù…Ù† **6 Ù…Ù„ÙØ§Øª ÙƒÙˆØ¯ (Scripts)** Ø¨ØªØ´ØªØºÙ„ Ù…Ø¹ Ø¨Ø¹Ø¶ Ø¹Ø´Ø§Ù† Ø§Ù„Ù„Ø§Ø¹Ø¨ ÙŠÙ‚Ø¯Ø± ÙŠØ¨Ù†ÙŠ Ù‚Ø±ÙŠØªÙ‡ Ø§Ù„ØµØ¯ÙŠÙ‚Ø© Ù„Ù„Ø¨ÙŠØ¦Ø©.

```
Ø§Ù„ÙÙƒØ±Ø© Ø¨Ø¨Ø³Ø§Ø·Ø©:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø¹Ù†Ø¯Ù‡ ÙÙ„ÙˆØ³ Ø§Ø³Ù…Ù‡Ø§ "GreenPoints" (Ù†Ù‚Ø§Ø· Ø®Ø¶Ø±Ø§Ø¡)     â”‚
â”‚                         â†“                               â”‚
â”‚   Ø¨ÙŠØ¶ØºØ· Ø¹Ù„Ù‰ Ù…Ø¨Ù†Ù‰ Ù…Ù† Ø§Ù„Ù‚Ø§ÙŠÙ…Ø© (Ø²ÙŠ Ø§Ù„Ø¨ÙŠØª Ø§Ù„Ø´Ù…Ø³ÙŠ)           â”‚
â”‚                         â†“                               â”‚
â”‚   Ù„Ùˆ Ù…Ø¹Ø§Ù‡ ÙÙ„ÙˆØ³ ÙƒÙØ§ÙŠØ© â†’ Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø¨ÙŠØ¸Ù‡Ø± ÙˆÙŠØ³Ø­Ø¨Ù‡ Ù„Ù…ÙƒØ§Ù†Ù‡        â”‚
â”‚                         â†“                               â”‚
â”‚   Ø¨ÙŠØ£ÙƒØ¯ â†’ Ø¨ÙŠØªØ®ØµÙ… 100 Ù†Ù‚Ø·Ø© ÙˆÙŠØªØ¨Ù†ÙŠ Ø§Ù„Ù…Ø¨Ù†Ù‰                 â”‚
â”‚                         â†“                               â”‚
â”‚   Ù„Ùˆ Ø¹Ø§ÙŠØ² ÙŠÙ…Ø³Ø­Ù‡ â†’ Ø¨ÙŠØ§Ø®Ø¯ Ù†Øµ ÙÙ„ÙˆØ³Ù‡ Ø±Ø¬Ø¹Ø© (50 Ù†Ù‚Ø·Ø©)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Ù…Ù„ÙØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù…

| Ø§Ù„Ù…Ù„Ù                | Ø¨ÙŠØ¹Ù…Ù„ Ø§ÙŠÙ‡ØŸ                                         |
| -------------------- | -------------------------------------------------- |
| `BuildingData.cs`    | Ø²ÙŠ "Ø§Ù„ÙƒØ§Ø±Ù†ÙŠÙ‡" Ø¨ØªØ§Ø¹ ÙƒÙ„ Ù…Ø¨Ù†Ù‰ - ÙÙŠÙ‡ Ø§Ø³Ù…Ù‡ ÙˆØµÙˆØ±ØªÙ‡ ÙˆØ³Ø¹Ø±Ù‡ |
| `BuildingItem.cs`    | Ø¨ÙŠØªØ­Ø· Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø§Ù„Ù…ØªØ¨Ù†ÙŠ Ø¹Ø´Ø§Ù† ÙŠÙØªÙƒØ± Ø³Ø¹Ø±Ù‡           |
| `InventoryButton.cs` | Ø§Ù„Ø²Ø±Ø§Ø± Ø§Ù„Ù„ÙŠ Ø¨ØªØ¶ØºØ· Ø¹Ù„ÙŠÙ‡ ÙÙŠ Ø§Ù„Ù‚Ø§ÙŠÙ…Ø©                  |
| `Draggable.cs`       | Ø¨ÙŠØ®Ù„ÙŠÙƒ ØªØ³Ø­Ø¨ Ø§Ù„Ù…Ø¨Ù†Ù‰ ÙˆØªØ­Ø·Ù‡ ÙÙŠ Ø£ÙŠ Ù…ÙƒØ§Ù†                |
| `DeleteManager.cs`   | Ø¨ÙŠÙ…Ø³Ø­ Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ ÙˆÙŠØ±Ø¬Ø¹Ù„Ùƒ Ù†Øµ ÙÙ„ÙˆØ³Ùƒ                     |
| `VillageManager.cs`  | **Ø§Ù„Ø±Ø¦ÙŠØ³** - Ø¨ÙŠÙ†Ø¸Ù… ÙƒÙ„ Ø­Ø§Ø¬Ø©                         |

---

## 1ï¸âƒ£ Ù…Ù„Ù BuildingData.cs (Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¨Ù†Ù‰)

**Ø¯Ù‡ Ø¨ÙŠØ¹Ù…Ù„ Ø§ÙŠÙ‡ØŸ** Ø¯Ù‡ Ø²ÙŠ "Ø§Ù„ÙƒØ§Ø±Øª" Ø§Ù„Ù„ÙŠ Ø¨ÙŠÙˆØµÙ ÙƒÙ„ Ù†ÙˆØ¹ Ù…Ø¨Ù†Ù‰.

```csharp
using UnityEngine;

// Ø¯Ù‡ ScriptableObject - ÙŠØ¹Ù†ÙŠ ØªÙ‚Ø¯Ø± ØªØ¹Ù…Ù„ Ù…Ù†Ù‡ Assets ÙÙŠ Unity
[CreateAssetMenu(fileName = "BD_NewBuilding", menuName = "GreenHeroes/BuildingData")]
public class BuildingData : ScriptableObject
{
    [Header("Display")]
    public string displayName;      // Ø§Ø³Ù… Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø§Ù„Ù„ÙŠ Ù‡ÙŠØ¸Ù‡Ø± Ù„Ù„Ø§Ø¹Ø¨ (Ù…Ø«Ù„Ø§Ù‹ "Ø¨ÙŠØª Ø´Ù…Ø³ÙŠ")
    public Sprite icon;             // Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù„ÙŠ Ù‡ØªØ¸Ù‡Ø± ÙÙŠ Ø§Ù„Ù‚Ø§ÙŠÙ…Ø©
    public GameObject prefab;       // Ø§Ù„Ø´ÙƒÙ„ 3D/2D Ø¨ØªØ§Ø¹ Ø§Ù„Ù…Ø¨Ù†Ù‰
    public Vector2 size = Vector2.one;  // Ø­Ø¬Ù… Ø§Ù„Ù…Ø¨Ù†Ù‰

    [Header("Cost")]
    public int greenPointsCost = 100;   // Ø³Ø¹Ø± Ø§Ù„Ù…Ø¨Ù†Ù‰ = 100 Ù†Ù‚Ø·Ø©

    // Ø¯ÙŠ Function Ø¨ØªØ±Ø¬Ø¹ Ø§Ù„Ø³Ø¹Ø± ÙƒÙ€ Text
    public string GetCostText()
    {
        return $"{greenPointsCost}";
    }

    // Ø¯ÙŠ Ø¨ØªØ­Ø³Ø¨ Ø§Ù„Ù€ Refund (Ø§Ù„Ù„ÙŠ Ù‡ØªØ±Ø¬Ø¹ Ù„Ùˆ Ù…Ø³Ø­Øª Ø§Ù„Ù…Ø¨Ù†Ù‰)
    // Ø¯Ø§ÙŠÙ…Ø§Ù‹ Ù†Øµ Ø§Ù„Ø³Ø¹Ø± (50%)
    public int GetRefundAmount()
    {
        return greenPointsCost / 2;  // 100 Ã· 2 = 50 Ù†Ù‚Ø·Ø©
    }
}
```

### ÙŠØ¹Ù†ÙŠ Ø§ÙŠÙ‡ Ø¯Ù‡ Ø¨Ø§Ù„Ø¨Ù„Ø¯ÙŠØŸ

- Ø¯Ù‡ Ø²ÙŠ **Ø§Ø³ØªÙ…Ø§Ø±Ø©** Ø¨ØªÙ…Ù„Ø§Ù‡Ø§ ÙÙŠ Unity
- Ø¨ØªØ­Ø· Ø§Ø³Ù… Ø§Ù„Ù…Ø¨Ù†Ù‰ØŒ ØµÙˆØ±ØªÙ‡ØŒ Ø´ÙƒÙ„Ù‡ØŒ ÙˆØ³Ø¹Ø±Ù‡
- ÙƒÙ„ Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ Ø³Ø¹Ø±Ù‡Ø§ 100 Ù†Ù‚Ø·Ø©
- Ù„Ùˆ Ù…Ø³Ø­Øª Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø¨ØªØ§Ø®Ø¯ 50 Ù†Ù‚Ø·Ø© Ø±Ø¬Ø¹Ø© (Ù†Øµ Ø§Ù„Ø³Ø¹Ø±)

---

## 2ï¸âƒ£ Ù…Ù„Ù BuildingItem.cs (Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø§Ù„Ù…ØªØ¨Ù†ÙŠ)

**Ø¯Ù‡ Ø¨ÙŠØ¹Ù…Ù„ Ø§ÙŠÙ‡ØŸ** Ø¯Ù‡ Ø¨ÙŠØªØ­Ø· Ø¹Ù„Ù‰ ÙƒÙ„ Ù…Ø¨Ù†Ù‰ Ø§ØªØ¨Ù†Ù‰ Ø¹Ø´Ø§Ù† ÙŠÙØªÙƒØ± ÙƒØ§Ù† Ø³Ø¹Ø±Ù‡ ÙƒØ§Ù…

```csharp
using UnityEngine;

public class BuildingItem : MonoBehaviour
{
    [HideInInspector]
    public BuildingData data;        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¨Ù†Ù‰ (Ù…Ù† Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù„ÙŠ ÙÙˆÙ‚)

    [HideInInspector]
    public int originalCost = 100;   // Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£ØµÙ„ÙŠ Ø§Ù„Ù„ÙŠ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø¯ÙØ¹Ù‡

    // Ø¨ÙŠØªÙ†Ø§Ø¯Ù‰ Ù„Ù…Ø§ Ø§Ù„Ù…Ø¨Ù†Ù‰ ÙŠØªØ¹Ù…Ù„ Ø£ÙˆÙ„ Ù…Ø±Ø©
    public void Init(BuildingData bd)
    {
        data = bd;
        originalCost = bd != null ? bd.greenPointsCost : 100;
        gameObject.name = bd.displayName + "(Placed)";  // Ø¨ÙŠØ³Ù…ÙŠ Ø§Ù„Ù…Ø¨Ù†Ù‰
    }

    // Ø¨ÙŠØ­Ø³Ø¨ Ø§Ù„ÙÙ„ÙˆØ³ Ø§Ù„Ù„ÙŠ Ù‡ØªØ±Ø¬Ø¹ Ù„Ùˆ Ù…Ø³Ø­Øª Ø§Ù„Ù…Ø¨Ù†Ù‰
    public int GetRefundAmount()
    {
        return originalCost / 2;  // Ù†Øµ Ø§Ù„ÙÙ„ÙˆØ³
    }
}
```

### ÙŠØ¹Ù†ÙŠ Ø§ÙŠÙ‡ Ø¯Ù‡ Ø¨Ø§Ù„Ø¨Ù„Ø¯ÙŠØŸ

- Ù„Ù…Ø§ ØªØ¨Ù†ÙŠ Ù…Ø¨Ù†Ù‰ØŒ Ø§Ù„Ù…Ù„Ù Ø¯Ù‡ Ø¨ÙŠÙØªÙƒØ± Ø§Ù†Øª Ø¯ÙØ¹Øª ÙƒØ§Ù…
- Ù„Ù…Ø§ ØªÙŠØ¬ÙŠ ØªÙ…Ø³Ø­Ù‡ØŒ Ø¨ÙŠØ¯ÙŠÙƒ Ù†Øµ Ø§Ù„ÙÙ„ÙˆØ³ Ø¯ÙŠ

---

## 3ï¸âƒ£ Ù…Ù„Ù InventoryButton.cs (Ø²Ø±Ø§Ø± ÙÙŠ Ø§Ù„Ù‚Ø§ÙŠÙ…Ø©)

**Ø¯Ù‡ Ø¨ÙŠØ¹Ù…Ù„ Ø§ÙŠÙ‡ØŸ** Ø¯Ù‡ Ø§Ù„Ø²Ø±Ø§Ø± Ø§Ù„Ù„ÙŠ Ø¨ØªØ¶ØºØ· Ø¹Ù„ÙŠÙ‡ Ø¹Ø´Ø§Ù† ØªØ®ØªØ§Ø± Ù…Ø¨Ù†Ù‰ ØªØ¨Ù†ÙŠÙ‡

```csharp
using UnityEngine;
using UnityEngine.UI;
using TMPro;

public class InventoryButton : MonoBehaviour
{
    public Image iconImage;      // ØµÙˆØ±Ø© Ø§Ù„Ù…Ø¨Ù†Ù‰
    public TMP_Text label;       // Ø§Ø³Ù… Ø§Ù„Ù…Ø¨Ù†Ù‰

    [HideInInspector] public BuildingData data;      // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø¯Ù‡
    [HideInInspector] public VillageManager manager; // Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ

    // Ø¨ÙŠØªÙ†Ø§Ø¯Ù‰ Ù„Ù…Ø§ Ø§Ù„Ù€ VillageManager ÙŠØ¹Ù…Ù„ Ø§Ù„Ù€ Inventory
    public void Init(BuildingData bd, VillageManager vm)
    {
        data = bd;
        manager = vm;

        iconImage.sprite = bd.icon;      // Ø¨ÙŠØ­Ø· Ø§Ù„ØµÙˆØ±Ø©
        label.text = bd.displayName;     // Ø¨ÙŠØ­Ø· Ø§Ù„Ø§Ø³Ù…
    }

    // Ù„Ù…Ø§ Ø§Ù„Ù„Ø§Ø¹Ø¨ ÙŠØ¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø±Ø§Ø±
    public void OnClickPlace()
    {
        AudioManager.Instance?.PlayClick();  // ØµÙˆØª Ø¶ØºØ·Ø©
        // Ø¨ÙŠÙ‚ÙˆÙ„ Ù„Ù„Ù€ VillageManager ÙŠØ¹Ù…Ù„ Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø¯Ù‡
        manager.SpawnBuildingFromData(data, true);
    }
}
```

### ÙŠØ¹Ù†ÙŠ Ø§ÙŠÙ‡ Ø¯Ù‡ Ø¨Ø§Ù„Ø¨Ù„Ø¯ÙŠØŸ

- Ø¯Ù‡ Ø§Ù„Ø²Ø±Ø§Ø± Ø§Ù„Ù„ÙŠ ÙÙŠ Ø§Ù„Ù‚Ø§ÙŠÙ…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
- Ù„Ù…Ø§ ØªØ¶ØºØ· Ø¹Ù„ÙŠÙ‡ØŒ Ø¨ÙŠÙ‚ÙˆÙ„ Ù„Ù„Ù†Ø¸Ø§Ù…: "Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø¹Ø§ÙŠØ² ÙŠØ¨Ù†ÙŠ Ø§Ù„Ø­Ø§Ø¬Ø© Ø¯ÙŠ"

---

## 4ï¸âƒ£ Ù…Ù„Ù Draggable.cs (Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª)

**Ø¯Ù‡ Ø¨ÙŠØ¹Ù…Ù„ Ø§ÙŠÙ‡ØŸ** Ø¯Ù‡ Ø§Ù„Ù„ÙŠ Ø¨ÙŠØ®Ù„ÙŠÙƒ ØªØ³Ø­Ø¨ Ø§Ù„Ù…Ø¨Ù†Ù‰ ÙˆØªØ­Ø·Ù‡ ÙÙŠ Ø£ÙŠ Ù…ÙƒØ§Ù†

```csharp
using System;
using UnityEngine;
using UnityEngine.EventSystems;

public class Draggable : MonoBehaviour, IPointerDownHandler, IDragHandler, IPointerUpHandler
{
    // Ø¹Ù†Ø¯Ù†Ø§ Ø­Ø§Ù„ØªÙŠÙ†: "Ø¨ÙŠØªØ­Ø·" Ø£Ùˆ "Ø§ØªØ­Ø· Ø®Ù„Ø§Øµ"
    public enum Mode { Placement, Placed }
    public Mode mode = Mode.Placement;

    float gridSize = 0.5f;                // Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø¨ÙŠÙ„Ø²Ù‚ Ø¹Ù„Ù‰ Ø´Ø¨ÙƒØ© (Grid)
    Action<GameObject> onConfirm;         // Ù„Ù…Ø§ ÙŠØ£ÙƒØ¯
    Action<GameObject> onCancel;          // Ù„Ù…Ø§ ÙŠÙ„ØºÙŠ

    [HideInInspector] public VillageManager villageManager;

    bool isDragging = false;              // Ù‡Ù„ Ø¨ÙŠØ³Ø­Ø¨ Ø¯Ù„ÙˆÙ‚ØªÙŠØŸ

    // ===== Ø§Ù„ØªÙ‡ÙŠØ¦Ø© =====
    public void Init(float grid, Action<GameObject> confirmCallback,
                     Action<GameObject> cancelCallback, VillageManager vm = null)
    {
        gridSize = Mathf.Max(0.01f, grid);
        onConfirm = confirmCallback;
        onCancel = cancelCallback;
        villageManager = vm;

        // Ù„Ùˆ Ù…ÙÙŠØ´ ColliderØŒ Ø¨Ù†Ø¶ÙŠÙ ÙˆØ§Ø­Ø¯ Ø¹Ø´Ø§Ù† Ù†Ù‚Ø¯Ø± Ù†Ø¶ØºØ· Ø¹Ù„ÙŠÙ‡
        if (GetComponent<Collider2D>() == null)
        {
            var bc = gameObject.AddComponent<BoxCollider2D>();
            bc.isTrigger = false;
        }
    }

    // ===== Ù„Ù…Ø§ ØªØ¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¨Ù†Ù‰ =====
    public void OnPointerDown(PointerEventData eventData)
    {
        // Ù„Ùˆ Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø§ØªØ¨Ù†Ù‰ Ø®Ù„Ø§Øµ (Placed)ØŒ Ø¨Ù†ÙØªØ­ Ø´Ø§Ø´Ø© Ø§Ù„Ù…Ø³Ø­
        if (mode == Mode.Placed)
        {
            villageManager?.OnPlacedObjectClicked(gameObject);
            return;
        }

        // Ù„Ùˆ Ù„Ø³Ù‡ Ø¨Ù†Ø­Ø·Ù‡ØŒ Ù†Ø¨Ø¯Ø£ Ø§Ù„Ø³Ø­Ø¨
        isDragging = true;
    }

    // ===== ÙˆØ§Ù†Øª Ø¨ØªØ³Ø­Ø¨ =====
    public void OnDrag(PointerEventData eventData)
    {
        if (!isDragging || mode != Mode.Placement) return;

        // Ø¨Ù†Ø­ÙˆÙ„ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø§ÙˆØ³ Ù„Ù…ÙˆÙ‚Ø¹ ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø©
        Vector3 world = Camera.main.ScreenToWorldPoint(eventData.position);
        world.z = 0f;

        // Ø¨Ù†Ù„Ø²Ù‚ Ø¹Ù„Ù‰ Ø§Ù„Ù€ Grid (Ø§Ù„Ø´Ø¨ÙƒØ©)
        float snappedX = Mathf.Round(world.x / gridSize) * gridSize;
        float snappedY = Mathf.Round(world.y / gridSize) * gridSize;
        transform.position = new Vector3(snappedX, snappedY, transform.position.z);
    }

    // ===== Ù„Ù…Ø§ ØªØ³ÙŠØ¨ Ø§Ù„Ù…Ø§ÙˆØ³ =====
    public void OnPointerUp(PointerEventData eventData)
    {
        if (mode != Mode.Placement) return;
        isDragging = false;
        onConfirm?.Invoke(gameObject);
    }

    // Ù„Ù…Ø§ Ø§Ù„Ù€ Placement ÙŠØªØ£ÙƒØ¯
    public void SetPlaced()
    {
        mode = Mode.Placed;
        isDragging = false;
    }
}
```

### ÙŠØ¹Ù†ÙŠ Ø§ÙŠÙ‡ Ø¯Ù‡ Ø¨Ø§Ù„Ø¨Ù„Ø¯ÙŠØŸ

- Ù„Ù…Ø§ ØªØ®ØªØ§Ø± Ù…Ø¨Ù†Ù‰ØŒ Ø§Ù„Ù…Ù„Ù Ø¯Ù‡ Ø¨ÙŠØ®Ù„ÙŠÙƒ ØªØ³Ø­Ø¨Ù‡ Ø¨Ø§Ù„Ù…Ø§ÙˆØ³
- Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø¨ÙŠÙ„Ø²Ù‚ Ø¹Ù„Ù‰ **Ø´Ø¨ÙƒØ©** (Grid) Ø¹Ø´Ø§Ù† ÙŠØ¨Ù‚Ù‰ Ù…Ù†Ø¸Ù…
- Ù„Ù…Ø§ ØªØ³ÙŠØ¨ Ø§Ù„Ù…Ø§ÙˆØ³ØŒ Ø¨ÙŠØ¸Ù‡Ø± Ø£Ø²Ø±Ø§Ø± "ØªØ£ÙƒÙŠØ¯" Ùˆ"Ø¥Ù„ØºØ§Ø¡"
- Ù„Ùˆ Ø§Ù„Ù…Ø¨Ù†Ù‰ **Ø§ØªØ¨Ù†Ù‰ Ø®Ù„Ø§Øµ** ÙˆØ¶ØºØ·Øª Ø¹Ù„ÙŠÙ‡ØŒ Ø¨ÙŠÙØªØ­Ù„Ùƒ Ø´Ø§Ø´Ø© Ø§Ù„Ù…Ø³Ø­

---

## 5ï¸âƒ£ Ù…Ù„Ù DeleteManager.cs (Ù…Ø³Ø­ Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ)

**Ø¯Ù‡ Ø¨ÙŠØ¹Ù…Ù„ Ø§ÙŠÙ‡ØŸ** Ø¯Ù‡ Ø¨ÙŠÙ…Ø³Ø­ Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ ÙˆØ¨ÙŠØ±Ø¬Ø¹Ù„Ùƒ Ù†Øµ ÙÙ„ÙˆØ³Ùƒ

```csharp
using UnityEngine;
using UnityEngine.UI;
using TMPro;

public class DeleteManager : MonoBehaviour
{
    [Header("UI")]
    public GameObject panelDeleteConfirm;    // Ø´Ø§Ø´Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯
    public TextMeshProUGUI labelName;        // Ø§Ø³Ù… Ø§Ù„Ù…Ø¨Ù†Ù‰
    public TextMeshProUGUI labelRefund;      // Ø§Ù„ÙÙ„ÙˆØ³ Ø§Ù„Ù„ÙŠ Ù‡ØªØ±Ø¬Ø¹
    public Button btnDelete;                 // Ø²Ø±Ø§Ø± Ø§Ù„Ù…Ø³Ø­
    public Button btnCancel;                 // Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ù„ØºØ§Ø¡

    private GameObject selected;             // Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø§Ù„Ù„ÙŠ ØªÙ… Ø§Ø®ØªÙŠØ§Ø±Ù‡

    void Start()
    {
        panelDeleteConfirm?.SetActive(false);
        btnDelete?.onClick.AddListener(DeleteSelected);
        btnCancel?.onClick.AddListener(ClearSelection);
    }

    // Ù„Ù…Ø§ ØªØ®ØªØ§Ø± Ù…Ø¨Ù†Ù‰ Ø¹Ø´Ø§Ù† ØªÙ…Ø³Ø­Ù‡
    public void Select(GameObject go)
    {
        if (go == null) { ClearSelection(); return; }

        selected = go;
        panelDeleteConfirm?.SetActive(true);

        // Ø¨Ù†Ø¹Ø±Ø¶ Ø§Ø³Ù… Ø§Ù„Ù…Ø¨Ù†Ù‰ ÙˆØ§Ù„ÙÙ„ÙˆØ³ Ø§Ù„Ù„ÙŠ Ù‡ØªØ±Ø¬Ø¹
        if (labelName != null)
            labelName.text = $"ØªÙ…Ø³Ø­: {go.name}?";

        if (labelRefund != null)
        {
            var bi = go.GetComponent<BuildingItem>();
            int refund = (bi != null) ? bi.GetRefundAmount() : 50;
            labelRefund.text = $"Ù‡ØªØ±Ø¬Ø¹Ù„Ùƒ: +{refund} Ù†Ù‚Ø·Ø©";
        }
    }

    public void ClearSelection()
    {
        selected = null;
        panelDeleteConfirm?.SetActive(false);
    }

    // Ù„Ù…Ø§ ÙŠØ£ÙƒØ¯ Ø§Ù„Ù…Ø³Ø­
    public void DeleteSelected()
    {
        if (selected == null) return;

        // Ø¨Ù†Ø­Ø³Ø¨ Ø§Ù„Ù€ Refund (Ù†Øµ Ø§Ù„ÙÙ„ÙˆØ³)
        var bi = selected.GetComponent<BuildingItem>();
        int refundAmount = (bi != null) ? bi.GetRefundAmount() : 50;

        // Ø¨Ù†Ø±Ø¬Ø¹ Ø§Ù„ÙÙ„ÙˆØ³ Ù„Ù„Ø§Ø¹Ø¨
        GreenPointsManager.Instance?.AddPoints(refundAmount);

        // Ø¨Ù†Ù…Ø³Ø­ Ø§Ù„Ù…Ø¨Ù†Ù‰
        Destroy(selected);
        selected = null;
        panelDeleteConfirm?.SetActive(false);

        // Ø¨Ù†Ø­ÙØ¸ Ø§Ù„Ù„Ø¹Ø¨Ø©
        FindFirstObjectByType<SaveManager>()?.SaveVillage();
    }
}
```

### ÙŠØ¹Ù†ÙŠ Ø§ÙŠÙ‡ Ø¯Ù‡ Ø¨Ø§Ù„Ø¨Ù„Ø¯ÙŠØŸ

- Ù„Ù…Ø§ ØªØ¶ØºØ· Ø¹Ù„Ù‰ Ù…Ø¨Ù†Ù‰ **Ù…Ø¨Ù†ÙŠ Ø®Ù„Ø§Øµ**ØŒ Ø¨ØªØ¸Ù‡Ø± Ø´Ø§Ø´Ø©: "Ø¹Ø§ÙŠØ² ØªÙ…Ø³Ø­Ù‡ØŸ Ù‡ØªØ±Ø¬Ø¹Ù„Ùƒ 50 Ù†Ù‚Ø·Ø©"
- Ù„Ùˆ Ø¶ØºØ·Øª "Ø£ÙŠÙˆÙ‡"ØŒ Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø¨ÙŠØªÙ…Ø³Ø­ ÙˆØ¨ØªØ§Ø®Ø¯ Ù†Øµ ÙÙ„ÙˆØ³Ùƒ
- Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨ØªØ­ÙØ¸ Ù†ÙØ³Ù‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø³Ø­

---

## 6ï¸âƒ£ Ù…Ù„Ù VillageManager.cs (Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ)

**Ø¯Ù‡ Ø¨ÙŠØ¹Ù…Ù„ Ø§ÙŠÙ‡ØŸ** Ø¯Ù‡ **Ø§Ù„Ø¯Ù…Ø§Øº** Ø¨ØªØ§Ø¹ Ø§Ù„Ù†Ø¸Ø§Ù… ÙƒÙ„Ù‡ - Ø¨ÙŠÙ†Ø¸Ù… ÙƒÙ„ Ø­Ø§Ø¬Ø©

```csharp
using System.Collections;
using UnityEngine;
using UnityEngine.UI;
using TMPro;

public class VillageManager : MonoBehaviour
{
    [Header("References")]
    public Transform placeRoot;              // Ø§Ù„Ù€ Parent Ø¨ØªØ§Ø¹ ÙƒÙ„ Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ
    public Transform inventoryContent;       // Ø§Ù„Ù‚Ø§ÙŠÙ…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
    public GameObject inventoryItemPrefab;   // Ø´ÙƒÙ„ Ø§Ù„Ø²Ø±Ø§Ø±

    [Header("Data")]
    public List<BuildingData> allBuildingData;   // ÙƒÙ„ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ
    public List<GameObject> buildingPrefabs;      // Ø£Ø´ÙƒØ§Ù„ Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ

    [Header("Placement")]
    public float gridSize = 0.5f;            // Ø­Ø¬Ù… Ø§Ù„Ø´Ø¨ÙƒØ©

    [Header("UI")]
    public GameObject panelConfirmPlacement; // Ø´Ø§Ø´Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯
    public Button confirmButton;
    public Button cancelButton;
    public GameObject messagePanel;
    public TextMeshProUGUI messageText;

    [Header("Systems")]
    public SaveManager saveManager;
    public DeleteManager deleteManager;
    public AudioManager audioManager;

    private GameObject currentObject = null;

    void Start()
    {
        panelConfirmPlacement?.SetActive(false);
        messagePanel?.SetActive(false);

        confirmButton?.onClick.AddListener(ConfirmCurrentPlacement);
        cancelButton?.onClick.AddListener(CancelCurrentPlacement);

        PopulateInventory();  // Ø¨Ù†Ø¹Ù…Ù„ Ø§Ù„Ù‚Ø§ÙŠÙ…Ø©
    }

    // Ø¨Ù†Ø¹Ù…Ù„ Ø²Ø±Ø§Ø± Ù„ÙƒÙ„ Ù†ÙˆØ¹ Ù…Ø¨Ù†Ù‰ ÙÙŠ Ø§Ù„Ù‚Ø§ÙŠÙ…Ø©
    public void PopulateInventory()
    {
        // Ø¨Ù†Ù…Ø³Ø­ Ø§Ù„Ù‚Ø¯ÙŠÙ…
        for (int i = inventoryContent.childCount - 1; i >= 0; i--)
            Destroy(inventoryContent.GetChild(i).gameObject);

        // Ø¨Ù†Ø¹Ù…Ù„ Ø²Ø±Ø§Ø± Ù„ÙƒÙ„ Ù…Ø¨Ù†Ù‰
        foreach (var data in allBuildingData)
        {
            var go = Instantiate(inventoryItemPrefab, inventoryContent);
            var ib = go.GetComponent<InventoryButton>();
            ib.Init(data, this);
            go.GetComponent<Button>()?.onClick.AddListener(ib.OnClickPlace);
        }
    }

    // Ø¯ÙŠ Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© - Ø¨ØªØ¹Ù…Ù„ Ø§Ù„Ù…Ø¨Ù†Ù‰
    public void SpawnBuildingFromData(BuildingData data, bool spawnAtCenter = false)
    {
        if (data == null) return;

        // ===== Ø§Ù„Ø®Ø·ÙˆØ© 1: Ù†Ø´ÙˆÙ Ù„Ùˆ Ù…Ø¹Ø§Ù‡ ÙÙ„ÙˆØ³ =====
        if (!GreenPointsManager.Instance.CanAfford(data.greenPointsCost))
        {
            ShowMessage($"Ù…ÙÙŠØ´ ÙÙ„ÙˆØ³ ÙƒÙØ§ÙŠØ©!\nÙ…Ø­ØªØ§Ø¬ {data.greenPointsCost} Ù†Ù‚Ø·Ø©", Color.red);
            return;
        }

        // ===== Ø§Ù„Ø®Ø·ÙˆØ© 2: Ù†Ø¬ÙŠØ¨ Ø§Ù„Ù€ Prefab =====
        int idx = allBuildingData.IndexOf(data);
        GameObject prefab = buildingPrefabs[idx];

        // ===== Ø§Ù„Ø®Ø·ÙˆØ© 3: Ù†Ø¹Ù…Ù„ Ø§Ù„Ù…Ø¨Ù†Ù‰ =====
        Vector3 worldPos = GetScreenCenterWorldPosition(0f);
        GameObject obj = Instantiate(prefab, placeRoot);
        obj.transform.position = worldPos;
        obj.name = data.displayName;

        // Ù†Ø¶ÙŠÙ Ø§Ù„Ù€ Components
        obj.GetComponent<BuildingItem>()?.Init(data);

        var dr = obj.GetComponent<Draggable>();
        if (dr == null) dr = obj.AddComponent<Draggable>();
        dr.Init(gridSize, OnPlacementConfirmed, OnPlacementCanceled, this);

        currentObject = obj;
        panelConfirmPlacement?.SetActive(true);
    }

    // Ù„Ù…Ø§ ÙŠØ£ÙƒØ¯ Ø§Ù„Ø¨Ù†Ø§Ø¡
    public void OnPlacementConfirmed(GameObject placed)
    {
        if (placed == null) placed = currentObject;
        if (placed == null) return;

        var bi = placed.GetComponent<BuildingItem>();
        int cost = bi.data.greenPointsCost;

        // Ø¨Ù†Ø®ØµÙ… Ø§Ù„ÙÙ„ÙˆØ³
        GreenPointsManager.Instance.TrySpend(cost);
        ShowMessage($"Ø§ØªØ¨Ù†Ù‰ {bi.data.displayName}!\n-{cost} Ù†Ù‚Ø·Ø©", Color.green);

        // Ù†Ø®Ù„ÙŠ Ø§Ù„Ù…Ø¨Ù†Ù‰ "Ù…ØªØ¨Ù†ÙŠ"
        placed.GetComponent<Draggable>()?.SetPlaced();

        panelConfirmPlacement?.SetActive(false);
        currentObject = null;

        saveManager?.SaveVillage();
    }

    // Ù„Ù…Ø§ ÙŠÙ„ØºÙŠ
    public void OnPlacementCanceled(GameObject canceled)
    {
        if (canceled == null) canceled = currentObject;
        if (canceled != null) Destroy(canceled);
        panelConfirmPlacement?.SetActive(false);
        currentObject = null;
    }

    // Ù„Ù…Ø§ ÙŠØ¶ØºØ· Ø¹Ù„Ù‰ Ù…Ø¨Ù†Ù‰ Ù…ØªØ¨Ù†ÙŠ
    public void OnPlacedObjectClicked(GameObject obj)
    {
        deleteManager?.Select(obj);
    }

    // Ø¨ØªØ¸Ù‡Ø± Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ø§Ø¹Ø¨
    public void ShowMessage(string text, Color color)
    {
        if (messageText != null)
        {
            messageText.text = text;
            messageText.color = color;
        }
        messagePanel?.SetActive(true);
        StartCoroutine(HideMessageAfterDelay());
    }

    IEnumerator HideMessageAfterDelay()
    {
        yield return new WaitForSeconds(2f);
        messagePanel?.SetActive(false);
    }
}
```

---

## ğŸ”„ Ø§Ù„Ù€ Flow ÙƒÙ„Ù‡

```
1. Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø¨ÙŠÙØªØ­ Ø§Ù„Ù„Ø¹Ø¨Ø©
   â†“
2. VillageManager Ø¨ÙŠØ¹Ù…Ù„ Ø§Ù„Ù‚Ø§ÙŠÙ…Ø© (PopulateInventory)
   â†“
3. Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø¨ÙŠØ¶ØºØ· Ø¹Ù„Ù‰ "Ø¨ÙŠØª Ø´Ù…Ø³ÙŠ" ÙÙŠ Ø§Ù„Ù‚Ø§ÙŠÙ…Ø©
   â†“
4. InventoryButton Ø¨ØªÙ‚ÙˆÙ„ Ù„Ù„Ù€ VillageManager: "Ø¹Ø§ÙŠØ² ÙŠØ¨Ù†ÙŠ Ø¯Ù‡"
   â†“
5. VillageManager Ø¨ÙŠØ´ÙŠÙƒ: Ù…Ø¹Ø§Ù‡ 100 Ù†Ù‚Ø·Ø©ØŸ
   â†“
   âŒ Ù„Ø£ â†’ Ø±Ø³Ø§Ù„Ø© "Ù…ÙÙŠØ´ ÙÙ„ÙˆØ³" ÙˆØ®Ù„Ø§Øµ
   âœ… Ø¢Ù‡ â†’ ÙƒÙ…Ù„ â†“
   â†“
6. Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø¨ÙŠØ¸Ù‡Ø± ÙÙŠ Ù†Øµ Ø§Ù„Ø´Ø§Ø´Ø©
   â†“
7. Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø¨ÙŠØ³Ø­Ø¨Ù‡ Ù„Ø£ÙŠ Ù…ÙƒØ§Ù† (Draggable)
   â†“
8. Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø¨ÙŠØ¶ØºØ· "ØªØ£ÙƒÙŠØ¯"
   â†“
9. VillageManager Ø¨ÙŠØ®ØµÙ… 100 Ù†Ù‚Ø·Ø© ÙˆÙŠØ¸Ù‡Ø± Ø±Ø³Ø§Ù„Ø© "Ø§ØªØ¨Ù†Ù‰!"
   â†“
10. SaveManager Ø¨ÙŠØ­ÙØ¸ Ø§Ù„Ù„Ø¹Ø¨Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠ
   â†“
--- Ø¨Ø¹Ø¯ÙŠÙ† ---
   â†“
11. Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø¨ÙŠØ¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø§Ù„Ù…ØªØ¨Ù†ÙŠ
   â†“
12. DeleteManager Ø¨ÙŠØ¸Ù‡Ø± Ø´Ø§Ø´Ø©: "ØªÙ…Ø³Ø­Ù‡ØŸ Ù‡ØªØ±Ø¬Ø¹Ù„Ùƒ 50 Ù†Ù‚Ø·Ø©"
   â†“
13. Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø¨ÙŠØ¶ØºØ· "Ø£ÙŠÙˆÙ‡"
   â†“
14. Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø¨ÙŠØªÙ…Ø³Ø­ + Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø¨ÙŠØ§Ø®Ø¯ 50 Ù†Ù‚Ø·Ø© + Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨ØªØªØ­ÙØ¸
```

---

## ğŸ’¡ Ø­Ø§Ø¬Ø§Øª Ù…Ù‡Ù…Ø© ØªÙØªÙƒØ±Ù‡Ø§

1. **ÙƒÙ„ Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ Ø¨Ù€ 100 Ù†Ù‚Ø·Ø©** - Ø³Ø¹Ø± Ù…ÙˆØ­Ø¯
2. **Ù„Ùˆ Ù…Ø³Ø­Øª Ù…Ø¨Ù†Ù‰ØŒ Ø¨ØªØ§Ø®Ø¯ Ù†Øµ ÙÙ„ÙˆØ³Ùƒ (50 Ù†Ù‚Ø·Ø©)**
3. **Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ Ø¨ØªÙ„Ø²Ù‚ Ø¹Ù„Ù‰ Ø´Ø¨ÙƒØ© (Grid)** - Ø¹Ø´Ø§Ù† ØªØ¨Ù‚Ù‰ Ù…Ù†Ø¸Ù…Ø©
4. **Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨ØªØ­ÙØ¸ Ù†ÙØ³Ù‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠ** - Ø¨Ø¹Ø¯ ÙƒÙ„ Ø¨Ù†Ø§Ø¡ Ø£Ùˆ Ù…Ø³Ø­
5. **Ø§Ù„Ù€ VillageManager Ù‡Ùˆ Ø§Ù„Ù…Ø§ÙŠØ³ØªØ±Ùˆ** - ÙƒÙ„ Ø­Ø§Ø¬Ø© Ø¨ØªØ¹Ø¯ÙŠ Ø¹Ù„ÙŠÙ‡

---

## ğŸ“‚ Ù…ÙƒØ§Ù† Ø§Ù„Ù…Ù„ÙØ§Øª

```
Assets/Scripts/Village/
â”œâ”€â”€ BuildingData.cs      â† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ
â”œâ”€â”€ BuildingItem.cs      â† Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø§Ù„Ù…ØªØ¨Ù†ÙŠ
â”œâ”€â”€ Draggable.cs         â† Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª
â”œâ”€â”€ DeleteManager.cs     â† Ù…Ø³Ø­ Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ
â”œâ”€â”€ InventoryButton.cs   â† Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù‚Ø§ÙŠÙ…Ø©
â””â”€â”€ VillageManager.cs    â† Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
```
